def isprime(n):

    if n < 2:
        return False
    
    if n == 2: 
        return True    

    if not n & 1: 
        return False

    for x in range(3, int(n**0.5)+1, 2):
        if n % x == 0:
            return False
    return True

def iscircprime(n):
    rot=n
    for j in range(0,len(str(n))):
        rot=rotate(rot)

        if isprime(int(rot))==False:
            return False 

    return True


def rotate(n):
    n=str(n)

    return n[-1:] + n[:-1]

count =0
for i in range(1,1000000):
    if iscircprime(i):
        count += 1

print count
